FFF                                                                      [100%]
=================================== FAILURES ===================================
________________________ test_notebook_exists_and_runs _________________________

    def test_notebook_exists_and_runs():
        """Verify that the notebook exists and executes without error."""
        assert os.path.isfile(NOTEBOOK_PATH), f"Notebook missing at {NOTEBOOK_PATH}"
    
        # Remove existing outputs to ensure they are generated by this run
        if os.path.exists(OUTPUT_CSV_PATH):
            os.remove(OUTPUT_CSV_PATH)
        if os.path.exists(OUTPUT_JSON_PATH):
            os.remove(OUTPUT_JSON_PATH)
    
        result = subprocess.run(
            ["jupyter", "nbconvert", "--execute", "--to", "notebook", "--inplace", NOTEBOOK_PATH],
            capture_output=True,
            text=True
        )
    
>       assert result.returncode == 0, f"Notebook execution failed. Stderr: {result.stderr}"
E       AssertionError: Notebook execution failed. Stderr: [NbConvertApp] Converting notebook /home/user/standardize_data.ipynb to notebook
E         Traceback (most recent call last):
E           File "/usr/local/lib/python3.10/dist-packages/nbformat/reader.py", line 19, in parse_json
E             nb_dict = json.loads(s, **kwargs)
E           File "/usr/lib/python3.10/json/__init__.py", line 346, in loads
E             return _default_decoder.decode(s)
E           File "/usr/lib/python3.10/json/decoder.py", line 337, in decode
E             obj, end = self.raw_decode(s, idx=_w(s, 0).end())
E           File "/usr/lib/python3.10/json/decoder.py", line 353, in raw_decode
E             obj, end = self.scan_once(s, idx)
E         json.decoder.JSONDecodeError: Invalid control character at: line 9 column 25 (char 146)
E         
E         The above exception was the direct cause of the following exception:
E         
E         Traceback (most recent call last):
E           File "/usr/local/bin/jupyter-nbconvert", line 8, in <module>
E             sys.exit(main())
E           File "/usr/local/lib/python3.10/dist-packages/jupyter_core/application.py", line 284, in launch_instance
E             super().launch_instance(argv=argv, **kwargs)
E           File "/usr/local/lib/python3.10/dist-packages/traitlets/config/application.py", line 1075, in launch_instance
E             app.start()
E           File "/usr/local/lib/python3.10/dist-packages/nbconvert/nbconvertapp.py", line 420, in start
E             self.convert_notebooks()
E           File "/usr/local/lib/python3.10/dist-packages/nbconvert/nbconvertapp.py", line 597, in convert_notebooks
E             self.convert_single_notebook(notebook_filename)
E           File "/usr/local/lib/python3.10/dist-packages/nbconvert/nbconvertapp.py", line 563, in convert_single_notebook
E             output, resources = self.export_single_notebook(
E           File "/usr/local/lib/python3.10/dist-packages/nbconvert/nbconvertapp.py", line 487, in export_single_notebook
E             output, resources = self.exporter.from_filename(
E           File "/usr/local/lib/python3.10/dist-packages/nbconvert/exporters/exporter.py", line 201, in from_filename
E             return self.from_file(f, resources=resources, **kw)
E           File "/usr/local/lib/python3.10/dist-packages/nbconvert/exporters/exporter.py", line 221, in from_file
E             nbformat.read(file_stream, as_version=4), resources=resources, **kw
E           File "/usr/local/lib/python3.10/dist-packages/nbformat/__init__.py", line 174, in read
E             return reads(buf, as_version, capture_validation_error, **kwargs)
E           File "/usr/local/lib/python3.10/dist-packages/nbformat/__init__.py", line 92, in reads
E             nb = reader.reads(s, **kwargs)
E           File "/usr/local/lib/python3.10/dist-packages/nbformat/reader.py", line 75, in reads
E             nb_dict = parse_json(s, **kwargs)
E           File "/usr/local/lib/python3.10/dist-packages/nbformat/reader.py", line 25, in parse_json
E             raise NotJSONError(message) from e
E         nbformat.reader.NotJSONError: Notebook does not appear to be JSON: '{\n "cells": [\n  {\n   "cell_type": "c...
E         
E       assert 1 == 0
E        +  where 1 = CompletedProcess(args=['jupyter', 'nbconvert', '--execute', '--to', 'notebook', '--inplace', '/home/user/standardize_d...nnbformat.reader.NotJSONError: Notebook does not appear to be JSON: \'{\\n "cells": [\\n  {\\n   "cell_type": "c...\n').returncode

test.py:41: AssertionError
_________________ test_clean_inventory_csv_exists_and_correct __________________

    def test_clean_inventory_csv_exists_and_correct():
        """Verify the cleaned CSV is correctly formatted."""
>       assert os.path.isfile(OUTPUT_CSV_PATH), f"Cleaned CSV missing at {OUTPUT_CSV_PATH}"
E       AssertionError: Cleaned CSV missing at /home/user/clean_inventory.csv
E       assert False
E        +  where False = <function isfile at 0x78fb1811df30>('/home/user/clean_inventory.csv')
E        +    where <function isfile at 0x78fb1811df30> = <module 'posixpath' from '/usr/lib/python3.10/posixpath.py'>.isfile
E        +      where <module 'posixpath' from '/usr/lib/python3.10/posixpath.py'> = os.path

test.py:45: AssertionError
__________________ test_schema_report_json_exists_and_correct __________________

    def test_schema_report_json_exists_and_correct():
        """Verify the schema report JSON is correctly formatted."""
>       assert os.path.isfile(OUTPUT_JSON_PATH), f"Schema JSON missing at {OUTPUT_JSON_PATH}"
E       AssertionError: Schema JSON missing at /home/user/schema_report.json
E       assert False
E        +  where False = <function isfile at 0x78fb1811df30>('/home/user/schema_report.json')
E        +    where <function isfile at 0x78fb1811df30> = <module 'posixpath' from '/usr/lib/python3.10/posixpath.py'>.isfile
E        +      where <module 'posixpath' from '/usr/lib/python3.10/posixpath.py'> = os.path

test.py:57: AssertionError
=========================== short test summary info ============================
FAILED test.py::test_notebook_exists_and_runs - AssertionError: Notebook exec...
FAILED test.py::test_clean_inventory_csv_exists_and_correct - AssertionError:...
FAILED test.py::test_schema_report_json_exists_and_correct - AssertionError: ...
3 failed in 1.40s
