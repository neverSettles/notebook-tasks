.F.                                                                      [100%]
=================================== FAILURES ===================================
_______________________ test_output_csv_exists_and_valid _______________________

    def test_output_csv_exists_and_valid():
        csv_path = '/home/user/final_sales_summary.csv'
        assert os.path.exists(csv_path), f"The output CSV {csv_path} was not found"
    
        with open(csv_path, 'r', encoding='utf-8') as f:
            reader = csv.DictReader(f)
            headers = reader.fieldnames
            assert headers is not None, "CSV is empty or missing headers"
            assert 'category' in headers, "CSV missing 'category' column"
            assert 'discounted_price' in headers, "CSV missing 'discounted_price' column"
    
            rows = list(reader)
>           assert len(rows) == 3, f"Expected 3 categories in the summary CSV, but found {len(rows)}"
E           AssertionError: Expected 3 categories in the summary CSV, but found 5
E           assert 5 == 3
E            +  where 5 = len([{'category': 'Beauty', 'discounted_price': '4082.678774866562'}, {'category': 'Clothing', 'discounted_price': '3602.8...y': 'Home', 'discounted_price': '3084.968747953323'}, {'category': 'Sports', 'discounted_price': '4136.8554525322725'}])

test.py:22: AssertionError
=========================== short test summary info ============================
FAILED test.py::test_output_csv_exists_and_valid - AssertionError: Expected 3...
1 failed, 2 passed in 0.02s
